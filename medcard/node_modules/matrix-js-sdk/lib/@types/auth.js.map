{"version":3,"file":"auth.js","names":["DELEGATED_OIDC_COMPATIBILITY","UnstableValue","IdentityProviderBrand","SSOAction"],"sources":["../../src/@types/auth.ts"],"sourcesContent":["/*\nCopyright 2022 The Matrix.org Foundation C.I.C.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\nimport { UnstableValue } from \"../NamespacedValue\";\n\n// disable lint because these are wire responses\n/* eslint-disable camelcase */\n\n/**\n * Represents a response to the CSAPI `/refresh` endpoint.\n */\nexport interface IRefreshTokenResponse {\n    access_token: string;\n    expires_in_ms: number;\n    refresh_token: string;\n}\n\n/* eslint-enable camelcase */\n\n/**\n * Response to GET login flows as per https://spec.matrix.org/v1.3/client-server-api/#get_matrixclientv3login\n */\nexport interface ILoginFlowsResponse {\n    flows: LoginFlow[];\n}\n\nexport type LoginFlow = ISSOFlow | IPasswordFlow | ILoginFlow;\n\nexport interface ILoginFlow {\n    type: string;\n}\n\nexport interface IPasswordFlow extends ILoginFlow {\n    type: \"m.login.password\";\n}\n\nexport const DELEGATED_OIDC_COMPATIBILITY = new UnstableValue(\n    \"delegated_oidc_compatibility\",\n    \"org.matrix.msc3824.delegated_oidc_compatibility\",\n);\n\n/**\n * Representation of SSO flow as per https://spec.matrix.org/v1.3/client-server-api/#client-login-via-sso\n */\nexport interface ISSOFlow extends ILoginFlow {\n    type: \"m.login.sso\" | \"m.login.cas\";\n    // eslint-disable-next-line camelcase\n    identity_providers?: IIdentityProvider[];\n    [DELEGATED_OIDC_COMPATIBILITY.name]?: boolean;\n    [DELEGATED_OIDC_COMPATIBILITY.altName]?: boolean;\n}\n\nexport enum IdentityProviderBrand {\n    Gitlab = \"gitlab\",\n    Github = \"github\",\n    Apple = \"apple\",\n    Google = \"google\",\n    Facebook = \"facebook\",\n    Twitter = \"twitter\",\n}\n\nexport interface IIdentityProvider {\n    id: string;\n    name: string;\n    icon?: string;\n    brand?: IdentityProviderBrand | string;\n}\n\n/**\n * Parameters to login request as per https://spec.matrix.org/v1.3/client-server-api/#login\n */\n/* eslint-disable camelcase */\nexport interface ILoginParams {\n    identifier?: object;\n    password?: string;\n    token?: string;\n    device_id?: string;\n    initial_device_display_name?: string;\n}\n/* eslint-enable camelcase */\n\nexport enum SSOAction {\n    /** The user intends to login to an existing account */\n    LOGIN = \"login\",\n\n    /** The user intends to register for a new account */\n    REGISTER = \"register\",\n}\n\n/**\n * The result of a successful [MSC3882](https://github.com/matrix-org/matrix-spec-proposals/pull/3882)\n * `m.login.token` issuance request.\n * Note that this is UNSTABLE and subject to breaking changes without notice.\n */\nexport interface LoginTokenPostResponse {\n    /**\n     * The token to use with `m.login.token` to authenticate.\n     */\n    login_token: string;\n    /**\n     * Expiration in seconds.\n     */\n    expires_in: number;\n}\n"],"mappings":";;;;;;;AAgBA;;AAhBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAmCO,MAAMA,4BAA4B,GAAG,IAAIC,8BAAJ,CACxC,8BADwC,EAExC,iDAFwC,CAArC;AAKP;AACA;AACA;;;IASYC,qB;;;WAAAA,qB;EAAAA,qB;EAAAA,qB;EAAAA,qB;EAAAA,qB;EAAAA,qB;EAAAA,qB;GAAAA,qB,qCAAAA,qB;;AA2BZ;IAEYC,S;AAQZ;AACA;AACA;AACA;AACA;;;;WAZYA,S;EAAAA,S;EAAAA,S;GAAAA,S,yBAAAA,S"}